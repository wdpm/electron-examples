"use strict";var e=require("electron");process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true";globalThis.entry=new class{createWindow(){this.win=new e.BrowserWindow({width:800,height:600,frame:!1,webPreferences:{nodeIntegration:!0,nodeIntegrationInWorker:!0,nodeIntegrationInSubFrames:!0,enableRemoteModule:!0,allowRunningInsecureContent:!0,webSecurity:!1,enableWebSQL:!1,spellcheck:!1,contextIsolation:!1}}),this.win.loadURL("http://localhost:5916/"),this.win.maximize(),this.win.webContents.openDevTools({mode:"undocked"})}sendSizeChangeMsg(){let e=this.win.getBounds(),i={width:e.width,height:e.height,isMaximized:this.win.isMaximized()};console.log("debug: ",i),this.win.webContents.send("windowResize",i)}initEvent(){this.win.on("maximize",(e=>this.sendSizeChangeMsg())),this.win.on("unmaximize",(e=>this.sendSizeChangeMsg())),this.win.on("resized",(e=>this.sendSizeChangeMsg()))}initHandle(){e.ipcMain.handle("windowToolCall",((e,i)=>{"maxsize"==i?this.win.maximize():"minisize"==i?this.win.minimize():"restore"==i?this.win.unmaximize():"close"==i&&this.win.close()}))}async start(){await e.app.whenReady(),this.createWindow(),this.initEvent(),this.initHandle()}},globalThis.entry.start();
